#pragma once
#include <xkbcommon/xkbcommon.h>
#include <freerdp/scancode.h>
#include <rdp2vnc/tmt.h>

static const std::unordered_map<uint32_t, uint32_t> keysymScancodeMap = {
  {XKB_KEY_Escape,        RDP_SCANCODE_ESCAPE},
  {XKB_KEY_1,             RDP_SCANCODE_KEY_1},
  {XKB_KEY_2,             RDP_SCANCODE_KEY_2},
  {XKB_KEY_3,             RDP_SCANCODE_KEY_3},
  {XKB_KEY_4,             RDP_SCANCODE_KEY_4},
  {XKB_KEY_5,             RDP_SCANCODE_KEY_5},
  {XKB_KEY_6,             RDP_SCANCODE_KEY_6},
  {XKB_KEY_7,             RDP_SCANCODE_KEY_7},
  {XKB_KEY_8,             RDP_SCANCODE_KEY_8},
  {XKB_KEY_9,             RDP_SCANCODE_KEY_9},
  {XKB_KEY_0,             RDP_SCANCODE_KEY_0},
  {XKB_KEY_minus,         RDP_SCANCODE_OEM_MINUS},
  {XKB_KEY_plus,          RDP_SCANCODE_OEM_PLUS},
  {XKB_KEY_BackSpace,     RDP_SCANCODE_BACKSPACE},
  {XKB_KEY_Tab,           RDP_SCANCODE_TAB},
  {XKB_KEY_q,             RDP_SCANCODE_KEY_Q},
  {XKB_KEY_w,             RDP_SCANCODE_KEY_W},
  {XKB_KEY_e,             RDP_SCANCODE_KEY_E},
  {XKB_KEY_r,             RDP_SCANCODE_KEY_R},
  {XKB_KEY_t,             RDP_SCANCODE_KEY_T},
  {XKB_KEY_y,             RDP_SCANCODE_KEY_Y},
  {XKB_KEY_u,             RDP_SCANCODE_KEY_U},
  {XKB_KEY_i,             RDP_SCANCODE_KEY_I},
  {XKB_KEY_o,             RDP_SCANCODE_KEY_O},
  {XKB_KEY_p,             RDP_SCANCODE_KEY_P},
  {XKB_KEY_Return,        RDP_SCANCODE_RETURN},
  {XKB_KEY_Control_L,     RDP_SCANCODE_LCONTROL},
  {XKB_KEY_a,             RDP_SCANCODE_KEY_A},
  {XKB_KEY_s,             RDP_SCANCODE_KEY_S},
  {XKB_KEY_d,             RDP_SCANCODE_KEY_D},
  {XKB_KEY_f,             RDP_SCANCODE_KEY_F},
  {XKB_KEY_g,             RDP_SCANCODE_KEY_G},
  {XKB_KEY_h,             RDP_SCANCODE_KEY_H},
  {XKB_KEY_j,             RDP_SCANCODE_KEY_J},
  {XKB_KEY_k,             RDP_SCANCODE_KEY_K},
  {XKB_KEY_l,             RDP_SCANCODE_KEY_L},
  {XKB_KEY_Shift_L,       RDP_SCANCODE_LSHIFT},
  {XKB_KEY_z,             RDP_SCANCODE_KEY_Z},
  {XKB_KEY_x,             RDP_SCANCODE_KEY_X},
  {XKB_KEY_c,             RDP_SCANCODE_KEY_C},
  {XKB_KEY_v,             RDP_SCANCODE_KEY_V},
  {XKB_KEY_b,             RDP_SCANCODE_KEY_B},
  {XKB_KEY_n,             RDP_SCANCODE_KEY_N},
  {XKB_KEY_m,             RDP_SCANCODE_KEY_M},
  {XKB_KEY_Shift_R,       RDP_SCANCODE_RSHIFT},
  {XKB_KEY_Alt_L,         RDP_SCANCODE_LMENU},
  {XKB_KEY_Caps_Lock,     RDP_SCANCODE_CAPSLOCK},
  {XKB_KEY_F1,            RDP_SCANCODE_F1},
  {XKB_KEY_F2,            RDP_SCANCODE_F2},
  {XKB_KEY_F3,            RDP_SCANCODE_F3},
  {XKB_KEY_F4,            RDP_SCANCODE_F4},
  {XKB_KEY_F5,            RDP_SCANCODE_F5},
  {XKB_KEY_F6,            RDP_SCANCODE_F6},
  {XKB_KEY_F7,            RDP_SCANCODE_F7},
  {XKB_KEY_F8,            RDP_SCANCODE_F8},
  {XKB_KEY_F9,            RDP_SCANCODE_F9},
  {XKB_KEY_F10,           RDP_SCANCODE_F10},
  {XKB_KEY_Num_Lock,      RDP_SCANCODE_NUMLOCK},
  {XKB_KEY_Scroll_Lock,   RDP_SCANCODE_SCROLLLOCK},
  {XKB_KEY_KP_7,          RDP_SCANCODE_NUMPAD7},
  {XKB_KEY_KP_8,          RDP_SCANCODE_NUMPAD8},
  {XKB_KEY_KP_9,          RDP_SCANCODE_NUMPAD9},
  {XKB_KEY_KP_4,          RDP_SCANCODE_NUMPAD4},
  {XKB_KEY_KP_5,          RDP_SCANCODE_NUMPAD5},
  {XKB_KEY_KP_6,          RDP_SCANCODE_NUMPAD6},
  {XKB_KEY_KP_1,          RDP_SCANCODE_NUMPAD1},
  {XKB_KEY_KP_2,          RDP_SCANCODE_NUMPAD2},
  {XKB_KEY_KP_3,          RDP_SCANCODE_NUMPAD3},
  {XKB_KEY_KP_0,          RDP_SCANCODE_NUMPAD0},
  {XKB_KEY_Sys_Req,       RDP_SCANCODE_SYSREQ},
  {XKB_KEY_F11,           RDP_SCANCODE_F11},
  {XKB_KEY_F12,           RDP_SCANCODE_F12},
  {XKB_KEY_F13,           RDP_SCANCODE_F13},
  {XKB_KEY_F14,           RDP_SCANCODE_F14},
  {XKB_KEY_F15,           RDP_SCANCODE_F15},
  {XKB_KEY_F16,           RDP_SCANCODE_F16},
  {XKB_KEY_F17,           RDP_SCANCODE_F17},
  {XKB_KEY_F18,           RDP_SCANCODE_F18},
  {XKB_KEY_F19,           RDP_SCANCODE_F19},
  {XKB_KEY_F20,           RDP_SCANCODE_F20},
  {XKB_KEY_F21,           RDP_SCANCODE_F21},
  {XKB_KEY_F22,           RDP_SCANCODE_F22},
  {XKB_KEY_F23,           RDP_SCANCODE_F23},
  {XKB_KEY_F24,           RDP_SCANCODE_F24},
  {XKB_KEY_Hiragana,      RDP_SCANCODE_HIRAGANA},
  {XKB_KEY_Henkan,        RDP_SCANCODE_CONVERT_JP},
  {XKB_KEY_Muhenkan,      RDP_SCANCODE_NONCONVERT_JP},
  {XKB_KEY_Control_R,     RDP_SCANCODE_RCONTROL},
  {XKB_KEY_Print,         RDP_SCANCODE_PRINTSCREEN},
  {XKB_KEY_Alt_R,         RDP_SCANCODE_RMENU},
  {XKB_KEY_Pause,         RDP_SCANCODE_PAUSE},
  {XKB_KEY_Home,          RDP_SCANCODE_HOME},
  {XKB_KEY_Up,            RDP_SCANCODE_UP},
  {XKB_KEY_Page_Up,       RDP_SCANCODE_PRIOR},
  {XKB_KEY_Left,          RDP_SCANCODE_LEFT},
  {XKB_KEY_Right,         RDP_SCANCODE_RIGHT},
  {XKB_KEY_End,           RDP_SCANCODE_END},
  {XKB_KEY_Down,          RDP_SCANCODE_DOWN},
  {XKB_KEY_Page_Down,     RDP_SCANCODE_NEXT},
  {XKB_KEY_Insert,        RDP_SCANCODE_INSERT},
  {XKB_KEY_Delete,        RDP_SCANCODE_DELETE},
  {XKB_KEY_Help,          RDP_SCANCODE_HELP2},
  {XKB_KEY_Super_L,       RDP_SCANCODE_LWIN},
  {XKB_KEY_Super_R,       RDP_SCANCODE_RWIN},
  {XKB_KEY_KP_Tab,        RDP_SCANCODE_TAB},
  {XKB_KEY_KP_Enter,      RDP_SCANCODE_RETURN},
  {XKB_KEY_KP_F1,         RDP_SCANCODE_F1},
  {XKB_KEY_KP_F2,         RDP_SCANCODE_F2},
  {XKB_KEY_KP_F3,         RDP_SCANCODE_F3},
  {XKB_KEY_KP_F4,         RDP_SCANCODE_F4},
  {XKB_KEY_KP_Home,       RDP_SCANCODE_HOME},
  {XKB_KEY_KP_Left,       RDP_SCANCODE_LEFT},
  {XKB_KEY_KP_Up,         RDP_SCANCODE_UP},
  {XKB_KEY_KP_Right,      RDP_SCANCODE_RIGHT},
  {XKB_KEY_KP_Down,       RDP_SCANCODE_DOWN},
  {XKB_KEY_KP_Page_Up,    RDP_SCANCODE_PRIOR},
  {XKB_KEY_KP_Page_Down,  RDP_SCANCODE_NEXT},
  {XKB_KEY_KP_Insert,     RDP_SCANCODE_INSERT},
  {XKB_KEY_KP_Delete,     RDP_SCANCODE_DELETE}
};

static const std::unordered_map<uint32_t, const char *> keysymTMTKeyMap = {
  {XKB_KEY_Up,            TMT_KEY_UP},
  {XKB_KEY_Down,          TMT_KEY_DOWN},
  {XKB_KEY_Right,         TMT_KEY_RIGHT},
  {XKB_KEY_Left,          TMT_KEY_LEFT},
  {XKB_KEY_KP_Home,       TMT_KEY_HOME},
  {XKB_KEY_End,           TMT_KEY_END},
  {XKB_KEY_Insert,        TMT_KEY_INSERT},
  {XKB_KEY_BackSpace,     TMT_KEY_BACKSPACE},
  {XKB_KEY_Escape,        TMT_KEY_ESCAPE},
  {XKB_KEY_KP_Page_Up,    TMT_KEY_PAGE_UP},
  {XKB_KEY_KP_Page_Down,  TMT_KEY_PAGE_DOWN},
  {XKB_KEY_F1,            TMT_KEY_F1},
  {XKB_KEY_F2,            TMT_KEY_F2},
  {XKB_KEY_F3,            TMT_KEY_F3},
  {XKB_KEY_F4,            TMT_KEY_F4},
  {XKB_KEY_F5,            TMT_KEY_F5},
  {XKB_KEY_F6,            TMT_KEY_F6},
  {XKB_KEY_F7,            TMT_KEY_F7},
  {XKB_KEY_F8,            TMT_KEY_F8},
  {XKB_KEY_F9,            TMT_KEY_F9},
  {XKB_KEY_F10,           TMT_KEY_F10},
};